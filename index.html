<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard de Vulnerabilidades</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <div class="sidebar">
        <div>
            <div class="logo-box">
                <img src="assets/logo.png" alt="Logo"
                    style="height: 45px; vertical-align: middle; margin-right: 8px;" />
                <img src="assets/zvulny_blue.png" alt="zVulny" style="height: 36px; vertical-align: middle;" />
            </div>
            <div class="menu">
                <a href="#"><i class="fas fa-shield-alt"></i> Escanear</a>
                <div class="divider"></div>
                <a href="#" class="active"><i class="fas fa-sitemap"></i> Mapear</a>
                <div class="divider"></div>
                <a href="#"><i class="fas fa-chart-line"></i> Análise</a>
                <div class="divider"></div>
                <a href="#"><i class="fas fa-lightbulb"></i> Sugestão</a>
            </div>
        </div>
        <a href="#" class="logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
    </div>
    <main class="main-content">
        <h1>Dashboard de Vulnerabilidades</h1>

        <!-- Upload CSV -->
        <input type="file" id="csvFile" accept=".csv" class="ficheiro" />

        <!-- Filtro IP -->
        <div id="filtroContainer" style="display:none; margin-top: 15px;">
            <label for="ipSelect"><strong>Filtrar por Host/IP:</strong></label><br />
            <select id="ipSelect">
                <option value="">Todos</option>
            </select>
        </div>

        <!-- Gráficos -->
        <div class="graficoAll">
            <canvas id="cvssChart" width="480" height="250"></canvas>
            <canvas id="vulnTypeChart" width="480" height="250"></canvas>
            <canvas id="exploitChart" width="480" height="250"></canvas>
            <canvas id="serviceChart" width="480" height="250"></canvas>
        </div>

        <!-- Tabela timeline -->
        <table id="timelineTable" border="1"
            style="width: 100%; margin-top: 30px; border-collapse: collapse; font-family: 'Poppins', sans-serif;">
            <thead>
                <tr>
                    <th style="padding: 6px; background: #f0f0f0; text-align: left;">Data da Descoberta</th>
                    <th style="padding: 6px; background: #f0f0f0; text-align: left;">Vendor/Product</th>
                    <th style="padding: 6px; background: #f0f0f0; text-align: left;">ID da CVE</th>
                </tr>
            </thead>
            <tbody>
                <!-- Será populado dinamicamente pelo JS com flat list -->
            </tbody>
        </table>
        <!-- Botão Ver Mais/Tudo/Menos -->
        <div id="verMaisContainer" class="verMaisContainer">
            <button id="verMaisBtn" class="verMaisBtn">Ver mais</button>
        </div>

    </main>
    <script src="script.js"></script>
</body>

</html>